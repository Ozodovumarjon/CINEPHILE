import{o as s,c as l,b as n,d as m,t as i,r as v,e as h,f as u,w as $,g as k,u as b,i as f,h as C,j as _,k as x,l as w,F as B,m as D,a as F}from"./index-B3ltF1qr.js";const L={class:"pagination"},N=["disabled"],V=n("span",null,"|",-1),z=["disabled"],S={__name:"Pagination",props:["currentPage","totalPage"],setup(e){return(o,t)=>(s(),l("div",L,[n("button",{disabled:e.currentPage==1,onClick:t[0]||(t[0]=a=>o.$emit("page",e.currentPage-1))},"back",8,N),n("span",null,[m(i(e.currentPage)+" ",1),V,m(" "+i(e.totalPage),1)]),n("button",{disabled:e.currentPage==e.totalPage,onClick:t[1]||(t[1]=a=>o.$emit("page",e.currentPage+1))},"next",8,z)]))}},T={alt:""},j={__name:"ContentItem",props:["item","type"],setup(e){return(o,t)=>{const a=v("router-link"),c=h("lazy");return s(),u(a,{class:"content__list-item",to:`${e.type}/${e.item.id}`},{default:$(()=>[k(n("img",T,null,512),[[c,b(f)+e.item.poster_path]])]),_:1},8,["to"])}}},q={key:0,class:"content"},E={class:"container"},I={class:"content__title"},M={class:"content__list"},G={__name:"Content",props:["type"],setup(e){const o=C(),t=e,a=_(1),c=_(500),r=x();r.getPopular({type:t.type,page:1});const p=w(()=>t.type=="movie"?r.popularMovies:r.popularTvs);console.log(o);const y=async d=>{a.value=d,await r.getPopular({type:t.type,page:a.value}),o.push({name:t.type,query:{page:a.value}})};return(d,R)=>{const P=v("Loader");return p.value?(s(),l("div",q,[n("div",E,[n("h2",I,i(e.type=="movie"?"Все фильмы":"Все сериалы"),1),n("div",M,[(s(!0),l(B,null,D(p.value,g=>(s(),u(j,{key:g.id,item:g,type:e.type},null,8,["item","type"]))),128))]),F(S,{currentPage:a.value,totalPage:c.value,onPage:y},null,8,["currentPage","totalPage"])])])):(s(),u(P,{key:1}))}}};export{G as _};

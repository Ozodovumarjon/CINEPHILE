import{r as m,e as h,o as s,f as i,w as d,g as _,b as l,u as p,i as g,n as v,p as y,q as f,j as x,s as k,l as S,c as n,v as $,F as w,m as B,x as C}from"./index-B3ltF1qr.js";const F={alt:"",class:"search__item-img"},T={__name:"SearchContent",props:["item"],setup(t){return(e,a)=>{const r=m("router-link"),c=h("lazy");return s(),i(r,{to:`${t.item.media_type}/${t.item.id}`,class:"search__item content__list-item"},{default:d(()=>[_(l("img",F,null,512),[[c,p(g)+t.item.poster_path]])]),_:1},8,["to"])}}},V=v({id:"search",state:()=>({url:"https://api.themoviedb.org/3/search/multi",result:null}),actions:{async getSearch(t){try{const e=await y.get(`${this.url}?api_key=${f}&language=ru-RU&query=${t}`);this.result=e.data.results,console.log(this.result)}catch(e){console.log("Произошла ошибка при поиске фильмов или сериалов",e)}}}}),b={class:"search"},q={class:"container"},z={key:0,class:"search__list content__list"},D=null,N={__name:"Search",setup(t){const e=V(),a=x("");k(a,c=>{clearTimeout(D),setTimeout(()=>{e.getSearch(c)},2e3)});const r=S(()=>e.result);return(c,u)=>(s(),n("section",b,[l("div",q,[_(l("input",{type:"text",class:"search__input",placeholder:"Найти фильм, сериал...","onUpdate:modelValue":u[0]||(u[0]=o=>a.value=o)},null,512),[[$,a.value]]),r.value?(s(),n("div",z,[(s(!0),n(w,null,B(r.value,o=>(s(),i(T,{key:o.id,item:o},null,8,["item"]))),128))])):C("",!0)])]))}},j={__name:"SearchPage",setup(t){return(e,a)=>(s(),i(N))}};export{j as default};
